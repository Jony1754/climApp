(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(4),l=a.n(c),s=a(1),i=a.n(s),m=a(5),o=a(6),u=a(7),d=a(9),h=a(8),E=(a(16),a(17),function(e){var t=e.data;if(!e.loading){var a=new Date,n=t.weather[0].icon,c="http://openweathermap.org/img/wn/".concat(n,"@2x.png");return r.a.createElement("div",{className:"current__container"},r.a.createElement("h3",null,"the.weather"),r.a.createElement("div",{className:"current"},r.a.createElement("h1",{className:"current__temperature"},t.main.temp,"\xb0"),r.a.createElement("div",{className:"current__details"},r.a.createElement("h2",{className:"current__city"},t.name),r.a.createElement("p",{className:"current__date"},a.toDateString(),", ",a.getHours(),":",a.getMinutes())),r.a.createElement("div",{className:"current__details"},r.a.createElement("img",{src:c,alt:"time",className:"current__icon"}),r.a.createElement("p",{className:"current__description"},t.weather[0].main))))}return r.a.createElement("div",null,"LOADING")});var p=function(e){var t=e.name,a=e.temperature,n=e.icon,c="http://openweathermap.org/img/wn/".concat(n,"@2x.png");return r.a.createElement("div",{className:"nearby__item"},r.a.createElement("h4",{className:"nearby__item-place"},t),r.a.createElement("div",{className:"nearby__item--details"},r.a.createElement("img",{src:c,alt:"time",className:"nearby__icon"}),r.a.createElement("p",{className:"nearby__item-temp"},a,"\xb0")))};function _(e){var t=e.data;return r.a.createElement("div",{className:"nearby"},r.a.createElement("h3",null,"CERCA DE TI"),t.map((function(e){return r.a.createElement(p,{name:e.name,temperature:e.main.temp,key:e.id,icon:e.weather[0].icon})})))}a(3);function g(e){var t=e.data;return r.a.createElement("div",{className:"weather"},r.a.createElement("h4",null,"EN TU UBICACI\xd3N"),r.a.createElement("div",{className:"weather__item"},r.a.createElement("h3",{className:"weather__item-humidity"},"HUMEDAD"),r.a.createElement("p",{className:"weather__item-value"},t.humidity,r.a.createElement("strong",null,"g.kg-1"))),r.a.createElement("div",{className:"weather__item"},r.a.createElement("h3",{className:"weather__item-humidity"},"SENSACI\xd3N T\xc9RMICA"),r.a.createElement("p",{className:"weather__item-value"},t.feels_like," ",r.a.createElement("strong",null,"\xb0"))),r.a.createElement("div",{className:"weather__item"},r.a.createElement("h3",{className:"weather__item-humidity"},"PRESI\xd3N"),r.a.createElement("p",{className:"weather__item-value"},t.pressure," ",r.a.createElement("strong",null,"mm"))))}var v=function(e){var t=e.data;return e.loading?r.a.createElement("div",null,"LOADING"):r.a.createElement("div",{className:"side"},r.a.createElement("hr",null),r.a.createElement(_,{data:t}),r.a.createElement("hr",null),r.a.createElement(g,{data:t[0].main}))},N=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(o.a)(this,a),console.log("constructor"),(n=t.call(this,e)).fetchData=Object(m.a)(i.a.mark((function e(){var t,a,r,c,l,s,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state,a=t.long,r=t.lat,"33b8384d272838dbe8eaf6a1d7314f8d",e.next=4,fetch("http://api.openweathermap.org/data/2.5/find?lat=".concat(r,"&units=metric&lon=").concat(a,"&cnt=5&appid=").concat("33b8384d272838dbe8eaf6a1d7314f8d"));case 4:return c=e.sent,e.next=7,c.json();case 7:return l=e.sent,e.next=10,l;case 10:s=e.sent,m=s.list,console.log("data fetched: ",m,"state set"),n.setState({weather:m,loading:!1});case 14:case"end":return e.stop()}}),e)}))),n.state={long:0,lat:0,country:"",weather:[],loading:!0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){console.log("componentDidMount"),this.setCoordinates()}},{key:"setCoordinates",value:function(){var e=this;navigator.geolocation.getCurrentPosition((function(t){console.log("Setcoordinates called with",t.coords.latitude,t.coords.longitude),e.setState({long:t.coords.longitude,lat:t.coords.latitude},e.fetchData),console.log("state after setstate in setcordinates",e.state)}))}},{key:"render",value:function(){return console.log("render method called"),r.a.createElement("div",{className:"App"},r.a.createElement(E,{data:this.state.weather[0],loading:this.state.loading}),r.a.createElement(v,{data:this.state.weather,loading:this.state.loading}))}}]),a}(n.Component);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root"))},3:function(e,t,a){}},[[10,1,2]]]);
//# sourceMappingURL=main.830ee211.chunk.js.map